{"version":3,"sources":["resources/interaction-tutorial.png","resources/logo-jhipster.svg","resources/Samples.ts","components/studio/StudioReducer.ts","components/Utils.ts","components/JhOnlineReducer.ts","Store.ts","components/sidebar/Reference.tsx","components/sidebar/About.tsx","components/sidebar/Sidebar.tsx","components/Popups.tsx","components/Header.tsx","codemirror/JDLHint.ts","codemirror/CodemirrorJDLMode.ts","components/studio/JDLToNoml.ts","components/studio/CanvasPanner.ts","components/studio/CanvasTools.tsx","components/studio/Studio.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","defaultSource","JDLtemplates","key","val","ACTION_TYPES","DEF_ERROR","lineMarkerTop","hasError","errorTooltip","STORAGE_KEY","THEME_KEY","storage","buildStorage","rankers","directions","initialState","loading","code","read","error","isStorageReadOnly","isReadonly","isCanvasMode","sidebarVisible","isLightMode","localStorage","sidebarId","ranker","direction","setCode","data","save","type","setStorageStat","source","findNextIndex","lastIndex","goToJHipsterOnline","window","location","href","goToManageJdls","downloadImage","evt","url","document","getElementById","toDataURL","currentTarget","ga","saveAs","event","keyCode","metaKey","ctrlKey","navigator","platform","match","preventDefault","click","setFilename","filename","fileBtn","download","imgBtn","insideJhOnline","includes","isInJHOnline","authenticated","username","jdlId","jdls","startLoadingFlag","setLoading","setJDL","setJDLsMetadata","setAuth","fetchAllJDLsMetadata","dispatch","a","httpHeader","getHeaders","fetch","res","json","ok","handleJDLsMetadataError","statusText","detail","console","log","setViewHash","hash","getViewHash","encoded","parts","split","indexOf","getIdFromHash","decodeURIComponent","replace","authToken","JSON","parse","getItem","sessionStorage","headers","Authorization","handleAuthError","e","handleJDLError","handleUpdateError","rootReducer","combineReducers","studio","state","action","jhOnline","middlewares","applyMiddleware","thunk","store","createStore","Reference","className","target","rel","About","src","interactionTutorial","alt","connect","id","WarningPopup","open","modal","closeOnDocumentClick","close","onClick","ResetPopup","closeModal","discard","onClose","SavePopup","saveJDL","useState","name","setName","placeholder","value","onChange","UploadPopup","file","setFiles","accept","files","f","setCurrentText","endsWith","r","FileReader","onload","contents","result","size","readAsText","alert","importJDL","mapDispatchToProps","loadJdl","getState","content","updateJDL","update","filteredJdls","filter","it","jdlName","method","body","stringify","setSidebar","toggleLightMode","toggleRanker","toggleDirection","initAuthentication","login","uploadPopup","setUploadPopup","savePopup","setSavePopup","templatePopup","setTemplatePopup","template","setTemplate","useEffect","toggleSidebar","page","title","logo","map","jdl","textFileAsBlob","Blob","URL","webkitURL","createObjectURL","downloadFile","WORD","CodeMirror","registerHelper","editor","options","word","range","cur","getCursor","curLine","getLine","line","end","ch","start","test","charAt","curWord","slice","list","seen","re","RegExp","dir","endLine","Math","min","max","firstLine","lastLine","text","m","exec","lastIndexOf","Object","prototype","hasOwnProperty","call","push","forEach","item","toLowerCase","startsWith","from","Pos","to","mainKeywords","relationshipKws","appInnerKws","validationKws","generalKws","paginationKws","dtoKws","serviceKws","searchKws","apptypeKws","typeKws","appKeysKws","deploymentKeysKws","specialValueKws","defineMode","words","define","style","i","length","tokenBase","stream","eatSpace","sol","next","delimiters","skipToEnd","lastCh","string","startCh","trim","eat","eatWhile","some","c","current","peek","eol","tokenize","tokens","concat","startState","token","lineComment","fold","keywords","commands","autocomplete","cm","showHint","hint","anyword","NomlEntityTypes","CanvasPanner","element","throttle","offset","x","y","zoomLevel","superSampling","devicePixelRatio","mouseDownPoint","mouseUp","width","addEventListener","nomnoml","skanaar","vector","diff","pageX","pageY","deltaY","passive","viewport","w","this","h","height","top","innerHeight","left","innerWidth","exp","validJDL","isDirective","jdlToNoml","jdlString","lines","s","index","pureDirectives","join","pureDiagramCode","JDL","nomlEntities","allEntityNames","entities","unProcessedEntities","applications","app","appLabel","config","baseName","applicationType","processEntities","included","excluded","msOptions","appName","include","entries","findActualEntities","entityList","microservice","children","unProcessed","package","renderType","description","clientFramework","authenticationType","prodDatabaseType","processed","nomlText","mapToNoml","out","allEnumNames","enums","enumsInApp","entity","field","relation","validations","en","enum","values","relationships","getCardinality","cardinality","CanvasTools","classToggler","panner","onMouseEnter","onMouseLeave","magnify","reset","NOMNOML_STYLE","Studio","cmOptions","lineNumbers","mode","matchBrackets","autoCloseBrackets","keyMap","extraKeys","editorRef","React","createRef","canvasRef","canvasPannerRef","getDefaultDirectives","renderJDL","props","canvas","nomlVal","finalVal","model","draw","zoom","positionCanvas","handleError","updateCode","setDefaultError","msg","message","parseFloat","getComputedStyle","getWrapperElement","getPropertyValue","findLine","setError","parseInt","setCanvasMode","getClassNames","editorBeforeChange","editorOnChange","reloadStorage","leading","prevProps","removeEventListener","ref","onBeforeChange","theme","PureComponent","App","Boolean","hostname","ReactDOM","render","StrictMode","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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,WACA,MACA,WACA,kBAEIC,GAAU,CACd,SACA,UACA,OACA,aACA,QACA,SACA,UACA,YACA,gBACA,UACA,OACA,UACA,aAEIC,GAAa,CACjB,WACA,kBACA,qBACA,YACA,gBACA,kBACA,uBACA,eACA,kBACA,uBACA,uBACA,oBACA,YACA,YACA,gBACA,iBACA,cACA,mBACA,eACA,uBACA,aACA,aACA,aACA,qBACA,iBACA,cACA,UACA,cACA,aAEIC,GAAoB,CACxB,iBACA,cACA,aACA,gBACA,cACA,kBACA,iBACA,uBACA,uBACA,oBACA,sBACA,wBACA,gBACA,QACA,aACA,6BACA,qBACA,eAEIC,GAAkB,CACtB,KACA,KACA,OACA,MACA,UACA,YACA,YACA,SACA,WACA,QACA,UACA,aACA,SACA,QACA,UACA,WACA,aACA,WACA,QACA,SACA,SACA,MACA,SACA,UACA,UACA,YACA,aACA,YACA,QACA,SACA,iBACA,aACA,YACA,kBACA,OACA,UACA,aACA,MACA,UACA,SACA,eACA,WACA,UACA,kBACA,gBACA,YACA,aACA,WAGF1D,KAAW2D,WAAW,OAAO,WAC3B,IAAMC,EAAQ,GACd,SAASC,EAAOC,EAAO5C,GACrB,IAAK,IAAI6C,EAAI,EAAGA,EAAI7C,EAAK8C,OAAQD,IAC/BH,EAAM1C,EAAK6C,IAAMD,EAgCrB,SAASG,EAAUC,EAAQhK,GACzB,GAAIgK,EAAOC,WAAY,OAAO,KAE9B,IAAIC,EAAMF,EAAOE,MACbxD,EAAKsD,EAAOG,OACZC,EAAa,QAAQvL,MAAM,KAE/B,GAAW,OAAP6H,EAEF,OADAsD,EAAOG,OACA,KAGT,GAAID,GAAc,MAAPxD,EAET,OADAsD,EAAOK,YACA,OAGT,IAAIC,EAASN,EAAOO,OAAO1D,OAAOmD,EAAOrD,MAAQ,GAC7C6D,EAAUR,EAAOO,OAAOE,OAAO5D,OAAO,GAC1C,GACEmD,EAAO1N,MAAM,OACN,MAAPoK,GACA4D,EAAS5D,IAAO,MACJ,MAAZ8D,EAGA,OADAR,EAAOK,YACA,UAGT,GAAW,MAAP3D,GAAqB,MAAPA,EAChB,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","file":"static/js/main.0730fcec.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/logo-jhipster.335cc5d4.svg\";","export const defaultSource = `\nentity Region {\n\tregionName String\n}\n\nentity Country {\n\tcountryName String\n}\n\n// an ignored comment\n/** not an ignored comment */\nentity Location {\n\tstreetAddress String\n\tpostalCode String\n\tcity String\n\tstateProvince String\n}\n\nentity Department {\n\tdepartmentName String required\n}\n\n/**\n * Task entity.\n * @author The JHipster team.\n */\nentity Task {\n\ttitle String\n\tdescription String\n}\n\n/**\n * The Employee entity.\n */\nentity Employee {\n\t/**\n\t* The firstname attribute.\n\t*/\n\tfirstName String\n\tlastName String\n\temail String\n\tphoneNumber String\n\thireDate Instant\n\tsalary Long\n\tcommissionPct Long\n}\n\nentity Job {\n\tjobTitle String\n\tminSalary Long\n\tmaxSalary Long\n}\n\nentity JobHistory {\n\tstartDate Instant\n\tendDate Instant\n\tlanguage Language\n}\n\nenum Language {\n    FRENCH, ENGLISH, SPANISH\n}\n\nrelationship OneToOne {\n\tCountry{region} to Region\n}\n\nrelationship OneToOne {\n\tLocation{country} to Country\n}\n\nrelationship OneToOne {\n\tDepartment{location} to Location\n}\n\nrelationship ManyToMany {\n\tJob{task(title)} to Task{job}\n}\n\n// defining multiple OneToMany relationships with comments\nrelationship OneToMany {\n\tEmployee to Job{employee}\n\t/**\n\t* A relationship\n\t*/\n\tDepartment to\n\t/**\n\t* Another side of the same relationship\n\t*/\n\tEmployee{department}\n}\n\nrelationship ManyToOne {\n\tEmployee{manager} to Employee\n}\n\n// defining multiple oneToOne relationships\nrelationship OneToOne {\n\tJobHistory{job} to Job\n\tJobHistory{department} to Department\n\tJobHistory{employee} to Employee\n}\n\n// Set pagination options\npaginate JobHistory, Employee with infinite-scroll\npaginate Job with pagination\n\n// Use Data Transfer Objects (DTO)\n// dto * with mapstruct\n\n// Set service options to all except few\nservice all with serviceImpl except Employee, Job\n\n// Set an angular suffix\n// angularSuffix * with mySuffix\n`;\n\nexport const JDLtemplates = [\n  {\n    key: \"default sample\",\n    val: defaultSource,\n  },\n  {\n    key: \"simple monolith\",\n    val: `\napplication {\n  config {\n    baseName myApp\n    applicationType monolith\n    packageName com.myapp\n    authenticationType jwt\n    prodDatabaseType mysql\n    clientFramework angularX\n  }\n  entities *\n}\n\nentity A {}\n\nentity B {}\n\nrelationship OneToMany {\n  A to B\n}\n`,\n  },\n  {\n    key: \"simple microservice\",\n    val: `\napplication {\n  config {\n    baseName myApp\n    applicationType gateway\n    packageName com.myapp\n    authenticationType jwt\n    prodDatabaseType mysql\n    clientFramework react\n  }\n  entities *\n}\n\napplication {\n  config {\n    baseName myApp1\n    applicationType microservice\n    packageName com.myapp\n    authenticationType jwt\n    prodDatabaseType mysql\n  }\n  entities A, B\n}\n\napplication {\n  config {\n    baseName myApp2\n    applicationType microservice\n    packageName com.myapp\n    authenticationType jwt\n    prodDatabaseType mysql\n  }\n  entities C\n}\n\nentity A {}\n\nentity B {}\n\nentity C {}\n\nentity D {}\n\nrelationship OneToMany {\n  A to B\n}\n`,\n  },\n];\n","// sample JDL\nimport { defaultSource } from \"../../resources/Samples\";\n\nexport const ACTION_TYPES = {\n  SET_CODE: \"studio/SET_CODE\",\n  SET_ERROR: \"studio/SET_ERROR\",\n  SET_STORAGE_STAT: \"studio/SET_STORAGE_STAT\",\n  SET_CANVAS_MODE: \"studio/SET_CANVAS_MODE\",\n  SET_SIDEBAR: \"studio/SET_SIDEBAR\",\n  TOGGLE_THEME: \"studio/TOGGLE_THEME\",\n  TOGGLE_RANKER: \"studio/TOGGLE_RANKER\",\n  TOGGLE_DIRECTION: \"studio/TOGGLE_DIRECTION\",\n};\n\nconst DEF_ERROR = {\n  lineMarkerTop: -35,\n  hasError: false,\n  errorTooltip: \"\",\n};\nconst STORAGE_KEY = \"jdlstudio.lastSource\";\nconst THEME_KEY = \"jdlstudio.lightMode\";\n// this object stores the JDL code to local storage\nlet storage = buildStorage(defaultSource);\n\nconst rankers = [\"tight-tree\", \"longest-path\"];\nconst directions = [\"down\", \"right\"];\n\nconst initialState = {\n  loading: false,\n  code: storage.read(),\n  error: DEF_ERROR,\n  isStorageReadOnly: storage.isReadonly,\n  isCanvasMode: false,\n  sidebarVisible: false,\n  isLightMode: localStorage[THEME_KEY] === \"true\" ? true : false,\n  sidebarId: \"\",\n  ranker: rankers[0],\n  direction: directions[0],\n};\n\nexport type StudioState = Readonly<typeof initialState>;\n\nexport const studio = (\n  state: StudioState = initialState,\n  action\n): StudioState => {\n  switch (action.type) {\n    case ACTION_TYPES.SET_CODE:\n      return {\n        ...state,\n        code: action.data,\n      };\n    case ACTION_TYPES.SET_ERROR:\n      return {\n        ...state,\n        error: action.data,\n      };\n    case ACTION_TYPES.SET_STORAGE_STAT:\n      return {\n        ...state,\n        isStorageReadOnly: action.data,\n      };\n    case ACTION_TYPES.SET_CANVAS_MODE:\n      return {\n        ...state,\n        isCanvasMode: action.data,\n      };\n    case ACTION_TYPES.TOGGLE_RANKER:\n      return {\n        ...state,\n        ranker: rankers[findNextIndex(rankers.indexOf(state.ranker))],\n      };\n    case ACTION_TYPES.TOGGLE_DIRECTION:\n      return {\n        ...state,\n        direction:\n          directions[findNextIndex(directions.indexOf(state.direction))],\n      };\n    case ACTION_TYPES.TOGGLE_THEME:\n      localStorage[THEME_KEY] = !state.isLightMode;\n      return {\n        ...state,\n        isLightMode: !state.isLightMode,\n      };\n    case ACTION_TYPES.SET_SIDEBAR:\n      return {\n        ...state,\n        sidebarVisible: !state.sidebarId || state.sidebarId !== action.data,\n        sidebarId: state.sidebarId !== action.data ? action.data : \"\",\n      };\n    default:\n      return state;\n  }\n};\n\nexport const reloadStorage: () => void = () => (dispatch) => {\n  storage = buildStorage(defaultSource);\n  dispatch(setCode(storage.read()));\n  dispatch(setStorageStat(storage.isReadonly));\n};\n\nexport const setCode = (data) => {\n  storage.save(data);\n  return {\n    type: ACTION_TYPES.SET_CODE,\n    data,\n  };\n};\n\nexport const setError = (data) => ({\n  type: ACTION_TYPES.SET_ERROR,\n  data,\n});\n\nexport const setDefaultError = () => ({\n  type: ACTION_TYPES.SET_ERROR,\n  data: DEF_ERROR,\n});\n\nexport const setCanvasMode = (data) => ({\n  type: ACTION_TYPES.SET_CANVAS_MODE,\n  data,\n});\n\nexport const toggleLightMode = () => ({\n  type: ACTION_TYPES.TOGGLE_THEME,\n});\n\nexport const toggleRanker = () => ({\n  type: ACTION_TYPES.TOGGLE_RANKER,\n});\n\nexport const toggleDirection = () => ({\n  type: ACTION_TYPES.TOGGLE_DIRECTION,\n});\n\nexport const setSidebar = (data) => ({\n  type: ACTION_TYPES.SET_SIDEBAR,\n  data,\n});\n\nexport const setStorageStat = (data) => ({\n  type: ACTION_TYPES.SET_STORAGE_STAT,\n  data,\n});\n\nfunction buildStorage(defaultSource = \"\") {\n  return {\n    read: function (): string {\n      return localStorage[STORAGE_KEY] || defaultSource;\n    },\n    save: function (source: string) {\n      localStorage[STORAGE_KEY] = source;\n    },\n    isReadonly: false,\n  };\n}\n\nfunction findNextIndex(lastIndex) {\n  return lastIndex === 0 ? 1 : 0;\n}\n","export const goToJHipsterOnline = () => {\n  window.location.href = \"/\";\n};\nexport const goToManageJdls = () => {\n  window.location.href = \"/design-entities\";\n};\n\nexport const downloadImage = (evt) => {\n  const canvasElement = document.getElementById(\"canvas\") as HTMLCanvasElement;\n  var url = canvasElement.toDataURL(\"image/png\");\n  evt.currentTarget.href = url;\n  ga(\"send\", \"event\", \"JDL Image\", \"download\", \"JDL Image download\");\n  ga(\"jdlTracker.send\", \"event\", \"JDL Image\", \"download\", \"JDL Image download\");\n};\n\nexport const downloadFile = (evt, content) => {\n  var textFileAsBlob = new Blob([content], { type: \"text/plain\" });\n  var URL = window.URL || window.webkitURL;\n  if (URL !== null) {\n    evt.currentTarget.href = window.URL.createObjectURL(textFileAsBlob);\n  }\n  ga(\"send\", \"event\", \"JDL File\", \"download\", \"JDL File download\");\n  ga(\"jdlTracker.send\", \"event\", \"JDL File\", \"download\", \"JDL File download\");\n};\n\nexport const saveAs = (event) => {\n  const { keyCode, metaKey, ctrlKey } = event;\n  if (keyCode === 83 && (navigator.platform.match(\"Mac\") ? metaKey : ctrlKey)) {\n    event.preventDefault();\n    document.getElementById(\"saveTextbutton\")?.click();\n    return false;\n  }\n};\n\nexport const setFilename = (filename) => {\n  const fileBtn = document.getElementById(\n    \"saveTextbutton\"\n  ) as HTMLAnchorElement;\n  if (fileBtn) {\n    fileBtn.download = filename + \".jdl\";\n  }\n  const imgBtn = document.getElementById(\"savebutton\") as HTMLAnchorElement;\n  if (imgBtn) {\n    imgBtn.download = filename + \".png\";\n  }\n};\n\nexport const urlDecode = (encoded) => {\n  return decodeURIComponent(encoded.replace(/\\+/g, \" \"));\n};\n\nexport const getIdFromHash = (hash: string) => {\n  const parts = hash.split(\"/\");\n  return parts[parts.indexOf(\"view\") + 1];\n};\n","import { Server } from \"miragejs\";\nimport { setCode } from \"./studio/StudioReducer\";\nimport mocksConfig from \"../mocks\";\nimport { IRootState } from \"../Store\";\nimport { getIdFromHash, urlDecode } from \"./Utils\";\n\nexport const ACTION_TYPES = {\n  SET_JDL: \"jhOnline/SET_JDL\",\n  SET_AUTH: \"jhOnline/SET_AUTH\",\n  SET_JDL_META: \"jhOnline/SET_JDL_META\",\n  SET_LOADING: \"jhOnline/SET_LOADING\",\n  UPDATE_JDL: \"jhOnline/UPDATE_JDL\",\n};\n\nconst initialState = {\n  insideJhOnline: isInJHOnline(),\n  authenticated: false,\n  username: \"\",\n  jdlId: \"\",\n  jdls: [] as {\n    name: string;\n    id: string;\n  }[],\n  startLoadingFlag: false,\n};\n\nconst server_api = \"\";\n\n// setup a mock server when running standalone and not in production mode\nif (process.env.NODE_ENV !== \"production\" && !isInJHOnline()) {\n  new Server(mocksConfig);\n}\n\nexport type JhOnlineState = Readonly<typeof initialState>;\n\nexport const jhOnline = (\n  state: JhOnlineState = initialState,\n  action\n): JhOnlineState => {\n  switch (action.type) {\n    case ACTION_TYPES.SET_AUTH:\n      return {\n        ...state,\n        ...action.data,\n      };\n    case ACTION_TYPES.SET_LOADING:\n      return {\n        ...state,\n        startLoadingFlag: action.data,\n      };\n    case ACTION_TYPES.SET_JDL:\n      return {\n        ...state,\n        jdlId: action.data,\n        startLoadingFlag: false,\n      };\n    case ACTION_TYPES.SET_JDL_META:\n      return {\n        ...state,\n        jdls: action.data,\n        startLoadingFlag: false,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setLoading = (loading) => {\n  return {\n    type: ACTION_TYPES.SET_LOADING,\n    data: loading,\n  };\n};\n\nexport const setJDL = (data) => {\n  return {\n    type: ACTION_TYPES.SET_JDL,\n    data,\n  };\n};\n\nexport const setJDLsMetadata = (data) => {\n  return {\n    type: ACTION_TYPES.SET_JDL_META,\n    data,\n  };\n};\n\nexport const setAuth = (authenticated, username) => {\n  return {\n    type: ACTION_TYPES.SET_AUTH,\n    data: { authenticated, username },\n  };\n};\n\nexport const initAuthentication = () => async (dispatch) => {\n  const httpHeader = getHeaders();\n  if (httpHeader) {\n    try {\n      const res = await fetch(`${server_api}/api/account`, httpHeader);\n      const json = await res.json();\n      if (res.ok) {\n        dispatch(setAuth(true, json.login));\n        dispatch(fetchAllJDLsMetadata());\n\n        const jdlId = getViewHash();\n        if (jdlId !== \"\") {\n          dispatch(setJDL(jdlId));\n        }\n      } else {\n        handleAuthError(`${res.statusText}: ${json.detail}`, dispatch);\n      }\n    } catch (e) {\n      handleAuthError(e, dispatch);\n    }\n  } else {\n    console.log(\"Auth token not found\");\n  }\n};\n\nexport const fetchAllJDLsMetadata = () => async (dispatch) => {\n  const httpHeader = getHeaders();\n  if (httpHeader) {\n    try {\n      await dispatch(setLoading(false));\n      const res = await fetch(`${server_api}/api/jdl-metadata`, httpHeader);\n      const json = await res.json();\n      if (res.ok) {\n        dispatch(setJDLsMetadata(json));\n      } else {\n        handleJDLsMetadataError(`${res.statusText}: ${json.detail}`, dispatch);\n      }\n    } catch (e) {\n      handleJDLsMetadataError(e, dispatch);\n    }\n  } else {\n    console.log(\"Auth token not found\");\n  }\n};\n\nexport const loadJdl = () => async (dispatch, getState) => {\n  const { jdlId } = getState().jhOnline as JhOnlineState;\n  if (!jdlId) {\n    handleJDLError(\"JDL not set\", dispatch);\n    return;\n  }\n  const httpHeader = getHeaders();\n  if (httpHeader) {\n    try {\n      await dispatch(setLoading(false));\n      const res = await fetch(`${server_api}/api/jdl/${jdlId}`, httpHeader);\n      const json = await res.json();\n      if (res.ok) {\n        if (json.content) {\n          await dispatch(setCode(json.content));\n          setViewHash(jdlId);\n          dispatch(setLoading(false));\n        }\n      } else {\n        handleJDLError(`${res.statusText}: ${json.detail}`, dispatch);\n      }\n    } catch (e) {\n      handleJDLError(e, dispatch);\n    }\n  } else {\n    console.log(\"Auth token not found\");\n  }\n};\n\nexport const updateJDL = (name, update = false) => async (\n  dispatch,\n  getState\n) => {\n  const state = getState() as IRootState;\n  const { code } = state.studio;\n  // update or create\n  const httpHeader = getHeaders();\n  if (httpHeader) {\n    try {\n      await dispatch(setLoading(false));\n      if (update) {\n        const { jdlId, jdls } = state.jhOnline;\n        const filteredJdls = jdls.filter((it) => jdlId === it.id);\n        if (filteredJdls && filteredJdls[0]) {\n          const jdlName = filteredJdls[0].name;\n          const res = await fetch(`${server_api}/api/jdl/${jdlId}`, {\n            ...httpHeader,\n            method: \"PUT\",\n            body: JSON.stringify({\n              name: jdlName,\n              content: code,\n            }),\n          });\n          if (res.ok) {\n            setViewHash(jdlId);\n            dispatch(setLoading(false));\n          } else {\n            handleUpdateError(\"Error from PUT request\", dispatch);\n          }\n        }\n      } else {\n        const res = await fetch(`${server_api}/api/jdl`, {\n          ...httpHeader,\n          method: \"POST\",\n          body: JSON.stringify({\n            name: name,\n            content: code,\n          }),\n        });\n        if (res.ok) {\n          const data = await res.json();\n          setViewHash(data.id);\n          dispatch(setLoading(false));\n          dispatch(fetchAllJDLsMetadata());\n        } else {\n          handleUpdateError(\"Error from POST request\", dispatch);\n        }\n      }\n    } catch (e) {\n      handleUpdateError(e, dispatch);\n    }\n  } else {\n    console.log(\"Auth token not found\");\n  }\n};\n\nexport const setViewHash = (jdlId) => {\n  if (!jdlId) {\n    location.hash = \"/\"; // eslint-disable-line no-restricted-globals\n    return;\n  }\n  location.hash = \"/view/\" + jdlId; // eslint-disable-line no-restricted-globals\n};\n\nfunction getViewHash() {\n  const hash = location.hash; // eslint-disable-line no-restricted-globals\n  if (!hash) {\n    return \"\";\n  }\n  if (hash.includes(\"#/view/\") || hash.includes(\"#!/view/\")) {\n    return urlDecode(getIdFromHash(hash));\n  }\n  return \"\";\n}\n\nfunction getHeaders() {\n  const authToken = JSON.parse(\n    localStorage.getItem(\"jhi-authenticationtoken\") ||\n      sessionStorage.getItem(\"jhi-authenticationtoken\") ||\n      \"null\"\n  );\n  if (authToken || process.env.NODE_ENV === \"development\") {\n    return {\n      headers: {\n        Authorization: `Bearer ${authToken}`,\n        \"Content-Type\": \"application/json\",\n      },\n    };\n  }\n  return null;\n}\n\nfunction handleAuthError(e, dispatch) {\n  console.error(\"Cannot get authentication token:\", e);\n  dispatch(setAuth(false, \"\"));\n}\n\nfunction handleJDLsMetadataError(e, dispatch) {\n  console.error(\"Error fetching JDL metadata:\", e);\n  dispatch(setJDLsMetadata([]));\n}\n\nfunction handleJDLError(e, dispatch) {\n  console.error(\"Error fetching JDL:\", e);\n  dispatch(setLoading(false));\n}\n\nfunction handleUpdateError(e, dispatch) {\n  console.error(\"Error updating JDL:\", e);\n  dispatch(setLoading(false));\n}\n\nfunction isInJHOnline() {\n  if (process.env.NODE_ENV === \"production\") {\n    return !window.location.href.includes(\"www.jhipster.tech/jdl-studio\");\n  }\n  return window.location.href.includes(\"localhost:8080/jdl-studio/\");\n}\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { studio, StudioState } from \"./components/studio/StudioReducer\";\nimport { jhOnline, JhOnlineState } from \"./components/JhOnlineReducer\";\n\nexport interface IRootState {\n  readonly studio: StudioState;\n  readonly jhOnline: JhOnlineState;\n}\n\nexport const rootReducer = combineReducers<IRootState>({\n  studio,\n  jhOnline,\n});\n\nexport const middlewares = applyMiddleware(thunk);\n\nexport const store = createStore(rootReducer, middlewares);\n","import React from \"react\";\n\nexport const Reference = () => (\n  <>\n    <div className=\"content\">\n      <h3>JDL Reference</h3>\n      <h2>Application Declaration</h2>\n      <hr />\n      <div className=\"highlighter-rouge\">\n        <code className=\"highlight\">\n          <pre>\n            application &#123; <br />\n            &nbsp;&nbsp;config &#123; <br />\n            &nbsp;&nbsp;&nbsp;&nbsp;&lt;option name&gt; &lt;option value&gt;\n            <br />\n            &nbsp;&nbsp;&#125;\n            <br />\n            &nbsp;&nbsp;[entities &lt;application entity list&gt;]\n            <br />\n            &nbsp;&nbsp;[&lt;options&gt;]\n            <br />\n            &#125;\n            <br />\n          </pre>\n        </code>\n      </div>\n      <ul className=\"options\">\n        <li>\n          <p>\n            Application configuration keys/values are specified under config\n            (which must be inside application)\n          </p>\n        </li>\n        <li>\n          <p>\n            There can be 0, 1 or any application option as you want (provided\n            they are valid)\n          </p>\n        </li>\n        <li>\n          <p>\n            Entities that will be generated inside the application are listed\n            via entities, this is the recommended way to generate entities in\n            applications.\n          </p>\n        </li>\n        <li>\n          <p>\n            The <kbd>entities</kbd> keyword is optional: you can omit it, but\n            every entity in the JDL file will be generated inside the\n            application\n          </p>\n        </li>\n      </ul>\n      <p>\n        Full documentation with possible options can be found{\" \"}\n        <a\n          href=\"https://www.jhipster.tech/jdl/applications\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n      </p>\n      <h2>Entity Declaration</h2>\n      <hr />\n      <div className=\"highlighter-rouge\">\n        <code className=\"highlight\">\n          <pre>\n            entity &lt;entity name&gt; &#123; <br />\n            &nbsp;&nbsp;&lt;field name&gt; &lt;type&gt;[&lt;validation&gt;*]{\" \"}\n            <br />\n            &#125;\n          </pre>\n        </code>\n      </div>\n      <ul className=\"options\">\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;entity name&gt;</code> is\n            the name of the entity,\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;field name&gt;</code> the\n            name of one field of the entity,\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;type&gt;</code> the JHipster\n            supported type of the field,\n          </p>\n        </li>\n        <li>\n          <p>\n            and as an option{\" \"}\n            <code className=\"highlighter-rouge\">&lt;validation&gt;</code> the\n            validations for the field.\n          </p>\n        </li>\n      </ul>\n      <p>\n        Full documentation with possible options can be found here{\" \"}\n        <a\n          href=\"https://www.jhipster.tech/jdl/entities-fields\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n      </p>\n      <p>\n        The possible types and validations are those described{\" \"}\n        <a\n          href=\"https://www.jhipster.tech/jdl/entities-fields#field-types-and-validations\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n        , if the validation requires a value, simply add{\" \"}\n        <code className=\"highlighter-rouge\">(&lt;value&gt;)</code> right after\n        the name of the validation.\n      </p>\n      <h2>Enum Declaration</h2>\n      <hr />\n      <div className=\"highlighter-rouge\">\n        <code className=\"highlight\">\n          <pre>\n            enum &lt;enum name&gt; &#123; <br />\n            &nbsp;&nbsp;&lt;enum values&gt; <br />\n            &#125;\n          </pre>\n        </code>\n      </div>\n      <ul className=\"options\">\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;enum name&gt;</code> is the\n            name of the enum,\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;enum values&gt;</code> the\n            comma separated values in uppercase\n          </p>\n        </li>\n      </ul>\n      <p>\n        Full documentation with possible options can be found here{\" \"}\n        <a\n          href=\"https://www.jhipster.tech/jdl/enums\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n      </p>\n      <h2>Relationship Declaration</h2>\n      <hr />\n      <div className=\"highlighter-rouge\">\n        <pre className=\"highlight\">\n          relationship &lt;type&gt; &#123;\n          <br />\n          &nbsp;&nbsp;&lt;from entity&gt;[&#123;&lt;relationship name&gt;&#125;]\n          <br />\n          &nbsp;&nbsp;to\n          <br />\n          &nbsp;&nbsp;&lt;to entity&gt;[&#123;&lt;relationship name&gt;&#125;]\n          <br />\n          &#125;\n        </pre>\n      </div>\n      <ul className=\"options\">\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;type&gt;</code> is the type\n            of your relationship (OneToMany | ManyToOne | OneToOne | ManyToMany)\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;from entity&gt;</code> is\n            the name of the entity owner of the relationship,\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;to entity&gt;</code> is the\n            name of the entity where the relationship goes to,\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">&lt;relationship name&gt;</code>{\" \"}\n            is the name of the relationship in the entity.\n          </p>\n        </li>\n      </ul>\n      <p>\n        Full documentation with possible options can be found here{\" \"}\n        <a\n          href=\"https://www.jhipster.tech/jdl/relationships\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n      </p>\n      <h2>Option Declaration</h2>\n      <hr />\n      <p>\n        It is possible to declare some of the supported options via JDL,\n        supported options are:\n      </p>\n      <ul className=\"options\">\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">paginate</code> enable\n            pagination for the entity with pager | pagination | infinite-scroll\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">service</code> enable service\n            layer for the entity with serviceClass | serviceImpl\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">dto</code> enable DTO for the\n            entity with Mapstruct\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">skipClient</code> skip client\n            side code for entity\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">skipServer</code> skip server\n            side code for entity\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">angularSuffix</code> add a\n            suffix to angular route names\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">microservice</code> specify the\n            app name of entity from another microservice\n          </p>\n        </li>\n        <li>\n          <p>\n            <code className=\"highlighter-rouge\">search</code> specify search\n            option for entity from another microservice\n          </p>\n        </li>\n      </ul>\n      <p>\n        Full documentation with possible options can be found here{\" \"}\n        <a\n          href=\"https://www.jhipster.tech/jdl/options\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          here\n        </a>\n      </p>\n      <p>\n        Refer{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"http://www.jhipster.tech/jdl/\"\n        >\n          JDL\n        </a>{\" \"}\n        documentation for more details.\n      </p>\n    </div>\n  </>\n);\n","import React from \"react\";\nimport interactionTutorial from \"../../resources/interaction-tutorial.png\";\n\nexport const About = () => (\n  <>\n    <div className=\"content\">\n      <h3>About</h3>\n      <p>\n        Hello, this is JDL-Studio, a tool for drawing{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"http://www.jhipster.tech/\"\n        >\n          JHipster\n        </a>{\" \"}\n        JDL diagrams based on the{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"http://www.jhipster.tech//jdl\"\n        >\n          JDL syntax\n        </a>\n        .{\" \"}\n      </p>\n      <p>\n        Try and edit the code on the left and watch the diagram change. Any\n        changes are saved to the browser's <i>localStorage</i>, so your diagram\n        should be here the next time, (but no guarantees). If you want\n        persistent storage, sign in with your JHipster Online account to save\n        the JDL.\n      </p>\n      <p>\n        Created by{\" \"}\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://deepu.tech\">\n          Deepu KS\n        </a>{\" \"}\n        and hosted on{\" \"}\n        <a\n          href=\"https://github.com/jhipster/jdl-studio\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          GitHub\n        </a>.\n      </p>\n      <p>\n        JDL-Studio was made possible by the cool project{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://github.com/skanaar/nomnoml\"\n        >\n          nomnoml\n        </a>{\" \"}\n        by{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"https://github.com/skanaar\"\n        >\n          Daniel Kallin\n        </a>{\" \"}\n        .\n      </p>\n      <h2>Interaction</h2>\n      <hr />\n      <p>\n        The canvas can be panned and zoomed by dragging and scrolling in the\n        right hand third of the canvas.\n      </p>\n      <img\n        className=\"invert\"\n        src={interactionTutorial}\n        alt=\"interaction tutorial\"\n      />\n      <p>\n        Downloaded image files will be given the filename in the{\" \"}\n        <kbd>#title</kbd> directive.\n      </p>\n      <p>\n        The editor supports a subset of <i>Sublime Text's</i>{\" \"}\n        <a\n          href=\"https://codemirror.net/demo/sublime.html\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          keymappings\n        </a>\n        . Hit <code>Ctrl-Space</code> for auto suggestions.\n      </p>\n      <h2>Examples</h2>\n      <hr />\n      <p>\n        Refer{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"http://www.jhipster.tech/jdl\"\n        >\n          JDL\n        </a>{\" \"}\n        documentation for examples.\n      </p>\n      <h2>Usage</h2>\n      <hr />\n      <p>\n        Refer{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href=\"http://www.jhipster.tech/jdl\"\n        >\n          JDL\n        </a>{\" \"}\n        documentation for more details.\n      </p>\n      <label>Set font</label>\n      <code>#font: Times</code>\n      <label>Layout the diagram really tight</label>\n      <code>#fontSize: 8</code><br />\n      <code>#spacing: 12</code><br />\n      <code>#padding: 3</code>\n      <h2>Directives</h2>\n      <hr />\n      <p>\n        The rendered image style can be customized by setting these directives\n        along with the JDL code. There should not be any empty space before a\n        directive.\n      </p>\n      <code>#arrowSize: 1</code><br />\n      <code>#bendSize: 0.3</code><br />\n      <code>#direction: down | right</code><br />\n      <code>#gutter: 5</code><br />\n      <code>#edgeMargin: 0</code><br />\n      <code>#edges: hard | rounded</code><br />\n      <code>#background: transparent</code><br />\n      <code>#fill: #eee8d5; #fdf6e3</code><br />\n      <code>#fillArrows: false</code><br />\n      <code>#font: Calibri</code><br />\n      <code>#fontSize: 12</code><br />\n      <code>#leading: 1.25</code><br />\n      <code>#lineWidth: 3</code><br />\n      <code>#padding: 8</code><br />\n      <code>#spacing: 40</code><br />\n      <code>#stroke: #33322E</code><br />\n      <code>#title: filename</code><br />\n      <code>#zoom: 1</code><br />\n      <code>#acyclicer: greedy</code><br />\n      <code>#ranker: network-simplex | tight-tree | longest-path</code><br />\n    </div>\n  </>\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { IRootState } from \"../../Store\";\nimport { Reference } from \"./Reference\";\nimport { About } from \"./About\";\n\nexport interface ISidebarProp extends StateProps {}\n\nexport function Sidebar({\n  sidebarId,\n  sidebarVisible,\n  isLightMode,\n}: ISidebarProp) {\n  return (\n    <div\n      id=\"sidebar\"\n      className={`sidebar ${sidebarVisible ? \"visible\" : \"\"} ${\n        isLightMode ? \"light-theme\" : \"dark-theme\"\n      }`}\n    >\n      {sidebarId === \"reference\" ? <Reference /> : <About />}\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ studio }: IRootState) => ({\n  sidebarId: studio.sidebarId,\n  sidebarVisible: studio.sidebarVisible,\n  isLightMode: studio.isLightMode,\n});\n\ntype StateProps = ReturnType<typeof mapStateToProps>;\n\nexport default connect(mapStateToProps, null)(Sidebar);\n","import React, { useState } from \"react\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\n\nexport const WarningPopup = ({ open, className = \"\" }) => (\n  <Popup open={open} modal closeOnDocumentClick={true} className={className}>\n    {(close) => (\n      <div className={`${className} modal`}>\n        <div className=\"header\">Warning!</div>\n        <div className=\"content\">\n          <p>\n            You are using an experimental beta version of JDL Studio. Please use\n            the stable version at{\" \"}\n            <a href=\"https://start.jhipster.tech/jdl-studio/\">\n              https://start.jhipster.tech/jdl-studio/\n            </a>{\" \"}\n            for more features and persistent storage\n          </p>\n        </div>\n        <div className=\"actions\">\n          <button className=\"button\" onClick={close}>\n            It's OK\n          </button>\n        </div>\n      </div>\n    )}\n  </Popup>\n);\n\nexport const ResetPopup = ({ open, closeModal, discard, className = \"\" }) => {\n  const ok = () => {\n    closeModal();\n    discard();\n  };\n  return (\n    <Popup\n      open={open}\n      modal\n      closeOnDocumentClick={false}\n      onClose={closeModal}\n      className={className}\n    >\n      <div className={`${className} modal`}>\n        <div className=\"header\">Discard</div>\n        <div className=\"content\">\n          <p>\n            Do you want to discard current diagram and load the sample? This\n            will overwrite local storage as well\n          </p>\n        </div>\n        <div className=\"actions\">\n          <button className=\"button\" onClick={ok}>\n            Yes\n          </button>\n          <button className=\"button\" onClick={closeModal}>\n            No\n          </button>\n        </div>\n      </div>\n    </Popup>\n  );\n};\n\nexport const SavePopup = ({ open, closeModal, saveJDL, className = \"\" }) => {\n  const [name, setName] = useState(\"\");\n\n  const setFileName = (evt) => {\n    setName(evt.target.value);\n  };\n\n  const saveJDLFile = () => {\n    closeModal();\n    saveJDL(name);\n  };\n\n  return (\n    <Popup\n      open={open}\n      modal\n      closeOnDocumentClick={false}\n      onClose={closeModal}\n      className={className}\n    >\n      <div className={`${className} modal`}>\n        <div className=\"header\">Save a new JDL Model</div>\n        <div className=\"content\">\n          <p>Please give a name to your new JDL Model</p>\n          <input\n            className=\"upload\"\n            placeholder=\"JDL name\"\n            type=\"input\"\n            id=\"jdlName\"\n            value={name}\n            onChange={setFileName}\n          />\n        </div>\n        <div className=\"actions\">\n          <button className=\"button\" onClick={saveJDLFile}>\n            Save\n          </button>\n          <button className=\"button\" onClick={closeModal}>\n            Dismiss\n          </button>\n        </div>\n      </div>\n    </Popup>\n  );\n};\n\nexport const UploadPopup = ({ open, closeModal, setCode, className = \"\" }) => {\n  const [file, setFiles] = useState(null);\n\n  const setJDlFile = (evt) => {\n    setFiles(evt.target.files[0]);\n  };\n\n  const importFile = () => {\n    closeModal();\n    importJDL(file, setCode);\n  };\n\n  return (\n    <Popup\n      open={open}\n      modal\n      closeOnDocumentClick={false}\n      onClose={closeModal}\n      className={className}\n    >\n      <div className={`${className} modal`}>\n        <div className=\"header\">Import JDL</div>\n        <div className=\"content\">\n          <p>\n            Select a <code>.jh</code> or <code>.jdl</code> file\n          </p>\n          <input\n            className=\"upload\"\n            accept=\".jh,.jdl\"\n            type=\"file\"\n            id=\"jdlFileInput\"\n            onChange={setJDlFile}\n          />\n        </div>\n        <div className=\"actions\">\n          <button className=\"button\" onClick={importFile}>\n            Import\n          </button>\n          <button className=\"button\" onClick={closeModal}>\n            Dismiss\n          </button>\n        </div>\n      </div>\n    </Popup>\n  );\n};\n\nfunction importJDL(f, setCurrentText) {\n  if (!f) {\n    alert(\"Failed to load file\");\n  } else if (\n    !f.type.match(\"text.*\") &&\n    !(f.name.endsWith(\".jh\") || f.name.endsWith(\".jdl\"))\n  ) {\n    alert(f.name + \" is not a valid JDL or text file.\");\n  } else {\n    var r = new FileReader();\n    r.onload = function (e) {\n      if (e && e.target) {\n        var contents = e.target.result as string;\n        console.log(\n          `Got the file name: ${f.name} type: ${f.type} size: ${f.size} bytes`\n        );\n        setCurrentText(contents);\n      }\n    };\n    r.readAsText(f);\n  }\n  ga(\"send\", \"event\", \"JDL File\", \"upload\", \"JDL File upload\");\n  ga(\"jdlTracker.send\", \"event\", \"JDL File\", \"upload\", \"JDL File upload\");\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid, no-restricted-globals */\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport LineIcon from \"react-lineicons\";\nimport logo from \"../resources/logo-jhipster.svg\";\nimport { IRootState } from \"../Store\";\nimport {\n  initAuthentication,\n  setJDL,\n  loadJdl,\n  updateJDL,\n  setViewHash,\n} from \"./JhOnlineReducer\";\nimport {\n  setSidebar,\n  setCode,\n  toggleLightMode,\n  toggleRanker,\n  toggleDirection,\n} from \"./studio/StudioReducer\";\nimport { UploadPopup, ResetPopup, WarningPopup, SavePopup } from \"./Popups\";\nimport {\n  downloadFile,\n  goToJHipsterOnline,\n  goToManageJdls,\n  downloadImage,\n} from \"./Utils\";\nimport { JDLtemplates } from \"../resources/Samples\";\n\nexport interface IHeaderProp extends StateProps, DispatchProps {}\n\nexport function Header({\n  code,\n  initAuthentication,\n  jhOnline,\n  isLightMode,\n  ranker,\n  direction,\n  setCode,\n  setJDL,\n  loadJdl,\n  updateJDL,\n  setSidebar,\n  toggleLightMode,\n  toggleRanker,\n  toggleDirection,\n}: IHeaderProp) {\n  const [uploadPopup, setUploadPopup] = useState(false);\n  const [savePopup, setSavePopup] = useState(false);\n  const [templatePopup, setTemplatePopup] = useState(false);\n  const [template, setTemplate] = useState(\"\");\n\n  useEffect(() => {\n    if (!jhOnline.authenticated) {\n      initAuthentication();\n    }\n  }, [jhOnline.authenticated, initAuthentication]);\n\n  useEffect(() => {\n    if (jhOnline.jdlId) {\n      loadJdl();\n    }\n  }, [jhOnline.jdlId, loadJdl]);\n\n  const toggleSidebar = (page: string) => () => {\n    setSidebar(page);\n  };\n\n  const openUploadDialog = () => {\n    setUploadPopup(true);\n  };\n\n  const closeUploadDialog = () => {\n    setUploadPopup(false);\n  };\n\n  const openSaveDialog = () => {\n    if (jhOnline.jdlId) {\n      // save existing\n      updateJDL(jhOnline.jdlId, true);\n    } else {\n      // create new\n      setSavePopup(true);\n    }\n  };\n\n  const closeSaveDialog = () => {\n    setSavePopup(false);\n  };\n\n  const openTemplateDialog = (evt) => {\n    setTemplate(evt.target.value);\n    if (evt.target.value) {\n      setTemplatePopup(true);\n    }\n  };\n\n  const closeTemplateDialog = () => {\n    setTemplatePopup(false);\n  };\n\n  const loadTemplate = () => {\n    if (template) {\n      const code = JDLtemplates.filter((it) => it.key === template)[0].val;\n      setCode(code);\n    }\n  };\n\n  const downloadJDL = (evt) => {\n    downloadFile(evt, code);\n  };\n\n  const handleChangeJDLModel = (event) => {\n    setJDL(event.target.value);\n    setViewHash(event.target.value);\n  };\n\n  return (\n    <>\n      <header className={`${isLightMode ? \"light-theme\" : \"dark-theme\"}`}>\n        <div className=\"tools left\">\n          <a\n            href=\"https://www.jhipster.tech/\"\n            title=\"JHipster website\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"logo-img\"\n          >\n            <img className=\"jhi-logo\" src={logo} alt=\"JHipster logo\" />\n          </a>\n          <a\n            className=\"logo link\"\n            onClick={toggleSidebar(\"about\")}\n            title=\"About JDL-Studio\"\n          >\n            JDL-Studio\n          </a>\n        </div>\n        <div className=\"tools right\">\n          <div className=\"tools-inner\">\n            <a onClick={toggleLightMode} title=\"Toggle theme\" className=\"link\">\n              {isLightMode ? (\n                <LineIcon name=\"night\" />\n              ) : (\n                <LineIcon name=\"sun\" />\n              )}\n            </a>\n            <a\n              onClick={toggleRanker}\n              title={`Cycle graph ranker strategy [current: ${ranker}]`}\n              className=\"link\"\n            >\n              {ranker === \"longest-path\" ? (\n                <LineIcon name=\"bricks\" />\n              ) : (\n                <LineIcon name=\"grid-alt\" />\n              )}\n            </a>\n            <a\n              onClick={toggleDirection}\n              title={`Cycle graph direction [current: ${direction}]`}\n              className=\"link\"\n            >\n              {direction === \"down\" ? (\n                <LineIcon name=\"arrow-right\" />\n              ) : (\n                <LineIcon name=\"arrow-down\" />\n              )}\n            </a>\n            <span className=\"seperator\">\n              <i>|</i>\n            </span>\n            <select className=\"template-select\" onChange={openTemplateDialog}>\n              <option value=\"\">&lt;Select template&gt;</option>\n              {JDLtemplates.map((it) => (\n                <option value={it.key} key={it.key}>\n                  {it.key}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"tools-inner\">\n            {jhOnline.insideJhOnline && !jhOnline.authenticated ? (\n              <a\n                id=\"signin\"\n                className=\"link special\"\n                onClick={goToJHipsterOnline}\n                title=\"Sign in\"\n              >\n                Please sign in for more features!\n              </a>\n            ) : null}\n            {!jhOnline.insideJhOnline && !jhOnline.authenticated ? (\n              <a\n                id=\"signin\"\n                className=\"special\"\n                href=\"https://start.jhipster.tech/jdl-studio/\"\n                title=\"Go to stable JDL Studio with more features\"\n              >\n                Go to stable JDL Studio\n              </a>\n            ) : null}\n            {jhOnline.authenticated ? (\n              <>\n                <a title=\"Logged in as\" className=\"special\">\n                  {jhOnline.username}\n                </a>\n\n                <select\n                  className=\"jdl-select\"\n                  value={jhOnline.jdlId}\n                  onChange={handleChangeJDLModel}\n                >\n                  <option value=\"\">&lt;Create new JDL Model&gt;</option>\n                  {jhOnline.jdls.map((jdl) => (\n                    <option key={jdl.id} value={jdl.id}>\n                      {jdl.name}\n                    </option>\n                  ))}\n                </select>\n                {jhOnline.startLoadingFlag ? (\n                  <a>\n                    <LineIcon name=\"reload\" />\n                  </a>\n                ) : (\n                  <a title=\"Save JDL\" className=\"link\" onClick={openSaveDialog}>\n                    <LineIcon name=\"save\" />\n                  </a>\n                )}\n                <a\n                  onClick={goToManageJdls}\n                  className=\"link\"\n                  title=\"Manage JDLs\"\n                >\n                  <LineIcon name=\"cog\" />\n                </a>\n              </>\n            ) : null}\n            {jhOnline.insideJhOnline ? (\n              <a\n                className=\"link\"\n                onClick={goToJHipsterOnline}\n                title=\"Go to the main JHipster Online page\"\n              >\n                <LineIcon name=\"home\" />\n              </a>\n            ) : null}\n\n            <span className=\"seperator\">\n              <i>|</i>\n            </span>\n            <a\n              id=\"savebutton\"\n              download=\"app-jdl.png\"\n              className=\"link\"\n              title=\"Download snapshot of this diagram\"\n              onClick={downloadImage}\n            >\n              <LineIcon name=\"camera\" />\n            </a>\n            <a\n              id=\"saveTextbutton\"\n              download=\"app.jdl\"\n              title=\"Download this JDL source\"\n              className=\"link\"\n              onClick={downloadJDL}\n            >\n              <LineIcon name=\"download\" />\n            </a>\n            <a\n              id=\"uploadbutton\"\n              className=\"upload-dialog link\"\n              title=\"Import text file of a JDL\"\n              onClick={openUploadDialog}\n            >\n              <LineIcon name=\"upload\" />\n            </a>\n            <a\n              onClick={toggleSidebar(\"about\")}\n              title=\"About JDL-Studio\"\n              className=\"link\"\n            >\n              <LineIcon name=\"question-circle\" />\n            </a>\n            <a\n              onClick={toggleSidebar(\"reference\")}\n              title=\"Language reference\"\n              className=\"link\"\n            >\n              <LineIcon name=\"book\" />\n            </a>\n            <span className=\"tooltip\"></span>\n          </div>\n        </div>\n      </header>\n      <UploadPopup\n        open={uploadPopup}\n        closeModal={closeUploadDialog}\n        setCode={setCode}\n        className={`${isLightMode ? \"light-theme\" : \"dark-theme\"}`}\n      />\n      <SavePopup\n        open={savePopup}\n        closeModal={closeSaveDialog}\n        saveJDL={updateJDL}\n        className={`${isLightMode ? \"light-theme\" : \"dark-theme\"}`}\n      />\n      <ResetPopup\n        open={templatePopup}\n        closeModal={closeTemplateDialog}\n        discard={loadTemplate}\n        className={`${isLightMode ? \"light-theme\" : \"dark-theme\"}`}\n      />\n      <WarningPopup\n        open={!jhOnline.insideJhOnline && !jhOnline.authenticated}\n        className={`${isLightMode ? \"light-theme\" : \"dark-theme\"}`}\n      />\n    </>\n  );\n}\n\nconst mapStateToProps = ({ studio, jhOnline }: IRootState) => ({\n  code: studio.code,\n  jhOnline: jhOnline,\n  isLightMode: studio.isLightMode,\n  ranker: studio.ranker,\n  direction: studio.direction,\n});\n\nconst mapDispatchToProps = {\n  setJDL,\n  loadJdl,\n  updateJDL,\n  setSidebar,\n  setCode,\n  toggleLightMode,\n  toggleRanker,\n  toggleDirection,\n  initAuthentication,\n};\n\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype DispatchProps = typeof mapDispatchToProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","import CodeMirror from \"codemirror\";\n\nvar WORD = /[\\w$]+/,\n  RANGE = 500;\n\nCodeMirror.registerHelper(\"hint\", \"anyword\", function (editor, options) {\n  const word = (options && options.word) || WORD;\n  const range = (options && options.range) || RANGE;\n  const cur = editor.getCursor();\n  const curLine = editor.getLine(cur.line);\n  const end = cur.ch;\n  let start = end;\n  while (start && word.test(curLine.charAt(start - 1))) --start;\n  const curWord = start !== end && curLine.slice(start, end);\n\n  const list = [] as any[];\n  const seen = {};\n  const re = new RegExp(word.source, \"g\");\n  for (var dir = -1; dir <= 1; dir += 2) {\n    var line = cur.line,\n      endLine =\n        Math.min(\n          Math.max(line + dir * range, editor.firstLine()),\n          editor.lastLine()\n        ) + dir;\n    for (; line !== endLine; line += dir) {\n      const text = editor.getLine(line);\n      let m;\n      while ((m = re.exec(text))) {\n        if (line === cur.line && m[0] === curWord) continue;\n        if (\n          (!curWord || m[0].lastIndexOf(curWord, 0) === 0) &&\n          !Object.prototype.hasOwnProperty.call(seen, m[0])\n        ) {\n          seen[m[0]] = true;\n          list.push(m[0]);\n        }\n      }\n    }\n  }\n  if (options && options.list) {\n    options.list.forEach(function (item) {\n      if (\n        (!curWord || item.toLowerCase().startsWith(curWord.toLowerCase())) &&\n        list.indexOf(item) === -1\n      )\n        list.push(item);\n    });\n  }\n  return {\n    list: list,\n    from: CodeMirror.Pos(cur.line, start),\n    to: CodeMirror.Pos(cur.line, end),\n  };\n});\n","import CodeMirror from \"codemirror\";\n\nconst constructs = [\n  `application {\n  config {\n\n  }\n}`,\n  `entity <name> {\n\n}`,\n  `enum <name> {\n\n}`,\n  `relationship OneToMany {\n\n}`,\n  `relationship ManyToMany {\n\n}`,\n  `relationship ManyToOne {\n\n}`,\n  `relationship OneToOne {\n\n}`,\n];\nconst mainKeywords = [\n  \"application\",\n  \"deployment\",\n  \"entity\",\n  \"enum\",\n  \"relationship\",\n  \"paginate\",\n  \"dto\",\n  \"service\",\n  \"skipClient\",\n  \"skipServer\",\n  \"search\",\n  \"angularSuffix\",\n  \"filter\",\n];\nconst relationshipKws = [\"OneToOne\", \"OneToMany\", \"ManyToOne\", \"ManyToMany\"];\nconst appInnerKws = [\"config\", \"entities\"];\nconst validationKws = [\n  \"required\",\n  \"minlength\",\n  \"maxlength\",\n  \"min\",\n  \"max\",\n  \"minbytes\",\n  \"maxbytes\",\n  \"pattern\",\n  \"unique\",\n];\nconst generalKws = [\"with\", \"all\", \"except\", \"to\"];\nconst paginationKws = [\"pagination\", \"pager\", \"infinite-scroll\"];\nconst dtoKws = [\"mapstruct\"];\nconst serviceKws = [\"serviceClass\", \"serviceImpl\"];\nconst searchKws = [\"ElasticSearch\"];\nconst apptypeKws = [\n  \"microservice\",\n  \"gateway\",\n  \"monolith\",\n  \"uaa\",\n  \"reactive\",\n  \"reactive-micro\",\n];\nconst typeKws = [\n  \"String\",\n  \"Integer\",\n  \"Long\",\n  \"BigDecimal\",\n  \"Float\",\n  \"Double\",\n  \"Boolean\",\n  \"LocalDate\",\n  \"ZonedDateTime\",\n  \"Instant\",\n  \"Blob\",\n  \"AnyBlob\",\n  \"ImageBlob\",\n];\nconst appKeysKws = [\n  \"baseName\",\n  \"applicationType\",\n  \"authenticationType\",\n  \"buildTool\",\n  \"cacheProvider\",\n  \"clientFramework\",\n  \"clientPackageManager\",\n  \"databaseType\",\n  \"devDatabaseType\",\n  \"enableHibernateCache\",\n  \"enableSwaggerCodegen\",\n  \"enableTranslation\",\n  \"jhiPrefix\",\n  \"languages\",\n  \"messageBroker\",\n  \"nativeLanguage\",\n  \"packageName\",\n  \"prodDatabaseType\",\n  \"searchEngine\",\n  \"serviceDiscoveryType\",\n  \"skipClient\",\n  \"skipServer\",\n  \"serverPort\",\n  \"skipUserManagement\",\n  \"testFrameworks\",\n  \"uaaBaseName\",\n  \"useSass\",\n  \"clientTheme\",\n  \"websocket\",\n];\nconst deploymentKeysKws = [\n  \"deploymentType\",\n  \"gatewayType\",\n  \"monitoring\",\n  \"directoryPath\",\n  \"appsFolders\",\n  \"clusteredDbApps\",\n  \"consoleOptions\",\n  \"serviceDiscoveryType\",\n  \"dockerRepositoryName\",\n  \"dockerPushCommand\",\n  \"kubernetesNamespace\",\n  \"kubernetesServiceType\",\n  \"ingressDomain\",\n  \"istio\",\n  \"istioRoute\",\n  \"enableRancherLoadBalancing\",\n  \"openshiftNamespace\",\n  \"storageType\",\n];\nconst specialValueKws = [\n  \"en\",\n  \"no\",\n  \"true\",\n  \"sql\",\n  \"mongodb\",\n  \"couchbase\",\n  \"cassandra\",\n  \"h2Disk\",\n  \"h2Memory\",\n  \"mysql\",\n  \"mariadb\",\n  \"postgresql\",\n  \"oracle\",\n  \"mssql\",\n  \"gatling\",\n  \"cucumber\",\n  \"protractor\",\n  \"angularX\",\n  \"react\",\n  \"eureka\",\n  \"consul\",\n  \"jwt\",\n  \"oauth2\",\n  \"session\",\n  \"ehcache\",\n  \"hazelcast\",\n  \"infinispan\",\n  \"memcached\",\n  \"maven\",\n  \"gradle\",\n  \"docker-compose\",\n  \"kubernetes\",\n  \"openshift\",\n  \"rancher-compose\",\n  \"zuul\",\n  \"traefik\",\n  \"prometheus\",\n  \"elk\",\n  \"curator\",\n  \"zipkin\",\n  \"LoadBalancer\",\n  \"NodePort\",\n  \"Ingress\",\n  \"manualInjection\",\n  \"autoInjection\",\n  \"ephemeral\",\n  \"persistent\",\n  \"default\",\n];\n\nCodeMirror.defineMode(\"jdl\", function () {\n  const words = {};\n  function define(style, list) {\n    for (let i = 0; i < list.length; i++) {\n      words[list[i]] = style;\n    }\n  }\n\n  // relationships\n  define(\"relationship\", relationshipKws);\n  // App inner keywords\n  define(\"relationship\", appInnerKws);\n\n  // Keywords\n  define(\"keyword\", mainKeywords);\n\n  // types\n  define(\"attribute\", appKeysKws);\n  define(\"attribute\", deploymentKeysKws);\n  define(\"attribute\", typeKws);\n\n  // types\n  define(\"qualifier\", validationKws);\n\n  // app types\n  define(\"keyword\", apptypeKws);\n\n  // types\n  define(\"special\", generalKws.concat(\n    paginationKws,\n    serviceKws,\n    dtoKws,\n    searchKws,\n    specialValueKws\n  ));\n\n  function tokenBase(stream, state) {\n    if (stream.eatSpace()) return null;\n\n    let sol = stream.sol();\n    let ch = stream.next();\n    let delimiters = \"{ } |\".split(\" \");\n\n    if (ch === \"\\\\\") {\n      stream.next();\n      return null;\n    }\n\n    if (sol && ch === \"#\") {\n      stream.skipToEnd();\n      return \"meta\"; // 'directives'\n    }\n\n    let lastCh = stream.string.charAt(stream.start - 1);\n    let startCh = stream.string.trim().charAt(0);\n    if (\n      stream.match(\"//\") ||\n      ch === \"/\" ||\n      lastCh + ch === \"/*\" ||\n      startCh === \"*\"\n    ) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    if (ch === \"+\" || ch === \"=\") {\n      return \"operator\";\n    }\n    if (ch === \"-\") {\n      stream.eat(\"-\");\n      stream.eatWhile(/\\w/);\n      return \"attribute\";\n    }\n    if (\n      delimiters.some(function (c) {\n        return stream.eat(c);\n      })\n    )\n      return \"bracket\";\n\n    stream.eatWhile(/[\\w-]/);\n    let cur = stream.current();\n    if (stream.peek() === \"=\" && /\\w+/.test(cur)) return \"def\";\n    if (words.hasOwnProperty(cur)) return words[cur];\n\n    if (\n      /[A-Z*]/.test(ch) ||\n      (lastCh !== \"/\" && ch === \"*\") ||\n      (lastCh === \"*\" && ch !== \"/\")\n    ) {\n      stream.eatWhile(/[a-z_]/);\n      if (stream.eol() || !/\\s[{,]/.test(stream.peek())) {\n        return \"def\";\n      }\n    }\n\n    return null;\n  }\n\n  function tokenize(stream, state) {\n    return (state.tokens[0] || tokenBase)(stream, state);\n  }\n\n  return {\n    startState: function () {\n      return { tokens: [] };\n    },\n    token: function (stream, state) {\n      return tokenize(stream, state);\n    },\n    lineComment: \"//\",\n    fold: \"brace\",\n  };\n});\nconst keywords = mainKeywords.concat(\n  constructs,\n  typeKws,\n  relationshipKws,\n  validationKws,\n  generalKws,\n  paginationKws,\n  dtoKws,\n  serviceKws,\n  apptypeKws,\n  appKeysKws,\n  deploymentKeysKws,\n  specialValueKws\n);\n// @ts-ignore\nCodeMirror.commands.autocomplete = function (cm) {\n  // @ts-ignore\n  cm.showHint({ hint: CodeMirror.hint.anyword, list: keywords });\n};\n","import { parse } from \"jhipster-core/lib/dsl/api\";\n\nfunction validJDL(line) {\n  var ok = line[0] !== \"#\";\n  return ok ? line.replace(/\\/\\/[^\\n\\r]*/gm, \"\") : \"\";\n}\nfunction isDirective(line) {\n  return line.text[0] === \"#\";\n}\n\nenum NomlEntityTypes {\n  package,\n  entity,\n  enum,\n  relation,\n  field,\n}\nexport type NomlEntity = {\n  name: string;\n  type: NomlEntityTypes;\n  renderType: string;\n  description?: string;\n  children?: NomlEntity[];\n};\n\nexport function jdlToNoml(jdlString: string): string {\n  const lines = jdlString\n    .split(\"\\n\")\n    .map((s, i) => ({ text: s.trim(), index: i }));\n  const pureDirectives = lines\n    .filter(isDirective)\n    .map((it) => it.text)\n    .join(\"\\n\")\n    .trim();\n\n  const pureDiagramCode = lines\n    .map((it) => it.text)\n    .map(validJDL)\n    .join(\"\\n\")\n    .trim();\n\n  const JDL = parse(pureDiagramCode);\n  let nomlEntities: NomlEntity[] = [];\n  const allEntityNames = JDL.entities.map((it) => it.name);\n  let unProcessedEntities: string[] = [...allEntityNames];\n  if (JDL.applications.length > 0) {\n    // draw entities within apps\n    nomlEntities = JDL.applications.map((app) => {\n      const appLabel = `${app.config.baseName} (${app.config.applicationType})`;\n      const [children, unProcessed] = processEntities(\n        JDL,\n        unProcessedEntities,\n        findActualEntities(\n          app.entities.entityList,\n          app.entities.excluded,\n          JDL.options.microservice,\n          app.config.baseName,\n          allEntityNames\n        )\n      );\n      unProcessedEntities = unProcessed;\n      return {\n        name: appLabel,\n        type: NomlEntityTypes.package,\n        renderType: \"<package>\",\n        description: `${\n          app.config.clientFramework\n            ? `Client: ${app.config.clientFramework}, `\n            : \"\"\n        }Auth: ${app.config.authenticationType}, DB: ${\n          app.config.prodDatabaseType\n        }`,\n        children,\n      };\n    });\n  }\n  if (unProcessedEntities.length > 0) {\n    const [processed] = processEntities(\n      JDL,\n      unProcessedEntities,\n      unProcessedEntities\n    );\n    // parse remaining entities\n    nomlEntities = [...nomlEntities, ...processed];\n  }\n  // convert to noml format\n  const nomlText = nomlEntities.map(mapToNoml);\n  return `${pureDirectives}\\n${nomlText.join(\"\\n\")}\\n`;\n}\n\nfunction processEntities(\n  JDL,\n  unProcessed,\n  filter: string[] = []\n): [NomlEntity[], string[]] {\n  const out: NomlEntity[] = [];\n  const allEnumNames = JDL.enums.map((it) => it.name);\n  const enumsInApp: string[] = [];\n  JDL.entities.forEach((entity) => {\n    if (filter.length > 0 && !filter.includes(entity.name)) {\n      return;\n    }\n    out.push({\n      name: entity.name,\n      type: NomlEntityTypes.entity,\n      renderType: \"\",\n      children: entity.body.map((field) => {\n        if (allEnumNames.includes(field.type)) {\n          enumsInApp.push(field.type);\n          out.push({\n            name: `[${entity.name}] --> [${field.type}]`,\n            type: NomlEntityTypes.relation,\n            renderType: \"\",\n          });\n        }\n        return {\n          name: `${field.name} : ${field.type}${\n            field.validations.filter((it) => it.key === \"required\").length === 1\n              ? \"*\"\n              : \"\"\n          }`,\n          type: NomlEntityTypes.field,\n          renderType: \"\",\n        };\n      }),\n    });\n    unProcessed = unProcessed.filter((it) => it !== entity.name);\n  });\n  JDL.enums.forEach((en) => {\n    if (!enumsInApp.includes(en.name)) {\n      return;\n    }\n    out.push({\n      name: `${en.name}`,\n      type: NomlEntityTypes.enum,\n      renderType: \"<reference>\",\n      description: \"<<enum>>\",\n      children: en.values.map((val) => ({\n        name: `${val.key}`,\n        type: NomlEntityTypes.field,\n        renderType: \"\",\n      })),\n    });\n  });\n  JDL.relationships.forEach((rel) => {\n    if (\n      filter.length > 0 &&\n      (![...filter, \"User\"].includes(rel.from.name) ||\n        ![...filter, \"User\"].includes(rel.to.name))\n    ) {\n      return;\n    }\n    out.push({\n      name: `[${rel.from.name}] ${getCardinality(rel.cardinality)} [${\n        rel.to.name\n      }]`,\n      type: NomlEntityTypes.relation,\n      renderType: \"\",\n    });\n  });\n\n  return [out, unProcessed];\n}\n\ntype MsOption = { list: string[] };\n\nfunction findActualEntities(\n  included: string[],\n  excluded: string[],\n  msOptions: { [key: string]: MsOption },\n  appName: string,\n  entities: string[]\n): string[] {\n  let include = included;\n  if (include.includes(\"*\")) {\n    include = [...include, ...entities];\n    if (msOptions) {\n      Object.entries(msOptions).forEach(([key, val]) => {\n        if (key !== appName) {\n          include = include.filter((it) => !val.list.includes(it));\n        }\n      });\n    }\n  }\n  if (excluded.length !== 0) {\n    include = include.filter((it) => !excluded.includes(it));\n  }\n  return include;\n}\n\nfunction mapToNoml(it: NomlEntity) {\n  switch (it.type) {\n    case NomlEntityTypes.field:\n    case NomlEntityTypes.relation:\n      return `${it.name}\\n`;\n    default:\n      return `[${it.renderType}${it.name}|${\n        it.description ? `${it.description}|` : \"\"\n      }\\n${it.children?.map(mapToNoml).join(\"\\n\")}\\n]`;\n  }\n}\n\nfunction getCardinality(cardinality) {\n  switch (cardinality) {\n    case \"one-to-many\":\n    case \"OneToMany\":\n      return \"o- (1..*)\";\n    case \"OneToOne\":\n    case \"one-to-one\":\n      return \"- (1..1)\";\n    case \"ManyToOne\":\n    case \"many-to-one\":\n      return \"(1..*) -o\";\n    case \"ManyToMany\":\n    case \"many-to-many\":\n      return \"(*..*) o-o\";\n    default:\n      return \"(1..*) ->\";\n  }\n}\n","import nomnoml from \"nomnoml\";\n\nexport interface Vec {\n  x: number;\n  y: number;\n}\n\nexport type Throttler = (\n  func: (arg: any) => void,\n  timespan: number,\n  opts?: any\n) => (arg: any) => void;\n\nexport class CanvasPanner {\n  offset: Vec = { x: 0, y: 0 };\n\n  zoomLevel: number = 0;\n\n  constructor(\n    element: HTMLElement,\n    private onChange: () => void,\n    throttle: Throttler\n  ) {\n    var mouseDownPoint: Vec | boolean = false;\n    function isVec(value: Vec | boolean): value is Vec {\n      return value !== false;\n    }\n\n    var mouseMove = (e: MouseEvent) => {\n      if (isVec(mouseDownPoint)) {\n        this.offset = nomnoml.skanaar.vector.diff(\n          { x: e.pageX, y: e.pageY },\n          mouseDownPoint\n        );\n        onChange();\n      }\n    };\n\n    var mouseUp = () => {\n      mouseDownPoint = false;\n      element.style.width = \"40%\";\n    };\n\n    var magnify = (e: MouseWheelEvent) => {\n      this.zoomLevel = Math.min(10, this.zoomLevel - (e.deltaY < 0 ? -1 : 1));\n      onChange();\n    };\n\n    var mouseDown = (e: MouseEvent) => {\n      element.style.width = \"100%\";\n      mouseDownPoint = nomnoml.skanaar.vector.diff(\n        { x: e.pageX, y: e.pageY },\n        this.offset\n      );\n    };\n\n    element.addEventListener(\"mousedown\", mouseDown);\n    element.addEventListener(\"mouseup\", mouseUp);\n    element.addEventListener(\"mouseleave\", mouseUp);\n    element.addEventListener(\"wheel\", throttle(magnify, 50), { passive: true });\n    element.addEventListener(\"mousemove\", throttle(mouseMove, 50), {\n      passive: true,\n    });\n  }\n\n  positionCanvas(element: HTMLCanvasElement) {\n    var viewport = window;\n    var w = element.width / this.superSampling;\n    var h = element.height / this.superSampling;\n    element.style.top =\n      300 * (1 - h / viewport.innerHeight) + this.offset.y + \"px\";\n    element.style.left =\n      150 + (viewport.innerWidth - w) / 2 + this.offset.x + \"px\";\n    element.style.width = w + \"px\";\n    element.style.height = h + \"px\";\n  }\n\n  superSampling = window.devicePixelRatio || 1;\n\n  zoom(): number {\n    return this.superSampling * Math.exp(this.zoomLevel / 10);\n  }\n\n  magnify(diff: number) {\n    this.zoomLevel = Math.min(10, this.zoomLevel + diff);\n    this.onChange();\n  }\n\n  reset() {\n    this.zoomLevel = 1;\n    this.offset = { x: 0, y: 0 };\n    this.onChange();\n  }\n}\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from \"react\";\nimport LineIcon from \"react-lineicons\";\n\nexport const CanvasTools = ({ classToggler, panner }) => {\n  const zoomIn = () => {\n    panner.magnify(2);\n  };\n\n  const zoomOut = () => {\n    panner.magnify(-2);\n  };\n\n  const reset = () => {\n    panner.reset();\n  };\n  return (\n    <div\n      className=\"canvas-tools\"\n      id=\"canvas-tools\"\n      onMouseEnter={classToggler(true)}\n      onMouseLeave={classToggler(false)}\n    >\n      <a onClick={zoomIn} title=\"Zoom in\" className=\"link\">\n        <LineIcon name=\"zoom-in\" />\n      </a>\n      <a onClick={reset} title=\"Reset viewport\" className=\"link\">\n        <LineIcon name=\"frame-expand\" />\n      </a>\n      <a onClick={zoomOut} title=\"Zoom out\" className=\"link\">\n        <LineIcon name=\"zoom-out\" />\n      </a>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport throttle from \"lodash.throttle\";\n\n// nomnoml dependencies\nimport nomnoml from \"nomnoml\";\n// code mirror dependencies\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/keymap/sublime\";\nimport \"codemirror/addon/edit/matchbrackets\";\nimport \"codemirror/addon/edit/closebrackets\";\nimport \"codemirror/addon/dialog/dialog\";\nimport \"codemirror/addon/search/searchcursor\";\nimport \"codemirror/addon/hint/show-hint\";\n// customizations for JDL\nimport \"../../codemirror/JDLHint\";\nimport \"../../codemirror/CodemirrorJDLMode\";\nimport \"../../codemirror/solarized.jdl.scss\";\nimport \"../../codemirror/show-hint-jdl.css\";\n\nimport { CanvasPanner } from \"./CanvasPanner\";\nimport { jdlToNoml } from \"./JDLToNoml\";\nimport { IRootState } from \"../../Store\";\nimport {\n  setCode,\n  setError,\n  setDefaultError,\n  reloadStorage,\n  setCanvasMode,\n} from \"./StudioReducer\";\nimport { CanvasTools } from \"./CanvasTools\";\nimport { saveAs, setFilename } from \"../Utils\";\n\n// this cannot have any space before the directives\nconst NOMNOML_STYLE_DARK = `\n#stroke: #aaaaaa\n#fill: #21252b;#002b36;\n\\n`;\nconst NOMNOML_STYLE = `\n#arrowSize: 0.5\n#lineWidth: 2\n#spacing: 40\n#title: jhipster-jdl\n#zoom: 0.8\n\\n`;\n\nexport interface IStudioProp extends StateProps, DispatchProps {}\n\nexport class Studio extends React.PureComponent<IStudioProp> {\n  // codemirror configuration\n  private cmOptions = {\n    lineNumbers: true,\n    mode: \"jdl\",\n    matchBrackets: true,\n    autoCloseBrackets: true,\n    keyMap: \"sublime\",\n    extraKeys: {\n      \"Ctrl-Space\": \"autocomplete\",\n    },\n  };\n  private panner;\n  private editorRef = React.createRef<any>();\n  private canvasRef = React.createRef<HTMLCanvasElement>();\n  private canvasPannerRef = React.createRef<HTMLDivElement>();\n\n  componentDidMount() {\n    window.addEventListener(\"hashchange\", this.props.reloadStorage);\n    window.addEventListener(\n      \"resize\",\n      throttle(() => this.renderJDL(), 750, { leading: true })\n    );\n    window.addEventListener(\"keydown\", saveAs);\n    if (this.canvasPannerRef.current) {\n      this.panner = new CanvasPanner(\n        this.canvasPannerRef.current,\n        () => this.renderJDL(),\n        throttle\n      );\n    }\n    this.updateCode();\n  }\n\n  componentDidUpdate(prevProps: IStudioProp) {\n    if (\n      prevProps.isLightMode !== this.props.isLightMode ||\n      prevProps.direction !== this.props.direction ||\n      prevProps.ranker !== this.props.ranker\n    ) {\n      this.renderJDL();\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"hashchange\", this.props.reloadStorage);\n    window.removeEventListener(\"keydown\", saveAs);\n  }\n\n  getDefaultDirectives = ({ isLightMode, ranker, direction }) => {\n    let style = isLightMode\n      ? NOMNOML_STYLE\n      : NOMNOML_STYLE_DARK + NOMNOML_STYLE;\n    style += `#ranker: ${ranker}\\n#direction: ${direction}\\n`;\n    return style;\n  };\n\n  renderJDL = (val = this.props.code) => {\n    try {\n      const canvas = this.canvasRef.current;\n      const nomlVal = val ? jdlToNoml(val) : \"[No JDL content, start writing]\";\n      const finalVal = this.getDefaultDirectives(this.props) + nomlVal;\n      const model = nomnoml.draw(canvas, finalVal, this.panner.zoom());\n      setFilename(model.config.title);\n      this.panner.positionCanvas(canvas);\n    } catch (e) {\n      console.log(e);\n      this.handleError(e);\n    }\n  };\n\n  updateCode = (val = this.props.code) => {\n    this.props.setDefaultError();\n    this.renderJDL(val);\n    this.props.setCode(val);\n  };\n\n  handleError = (e) => {\n    var msg = \"\",\n      top = 0;\n    if (e.message && this.editorRef.current) {\n      const lineHeight = parseFloat(\n        window\n          .getComputedStyle(this.editorRef.current.editor.getWrapperElement())\n          .getPropertyValue(\"line-height\")\n      );\n      top = 40 + lineHeight * this.findLine(e.message);\n      msg = e.message;\n    } else {\n      msg = \"An error occurred, look at the console\";\n    }\n    this.props.setError({\n      lineMarkerTop: top,\n      hasError: true,\n      errorTooltip: msg,\n    });\n  };\n\n  findLine = (msg): number => {\n    var regex = /at line: ([0-9]+),/g;\n    var match = regex.exec(msg);\n    return match && match[1] ? parseInt(match[1]) : 0;\n  };\n\n  classToggler = (state) => () => {\n    this.props.setCanvasMode(state);\n  };\n\n  getClassNames = (isLightMode, isCanvasMode) =>\n    `${isLightMode ? \"light-theme\" : \"dark-theme\"} ${\n      isCanvasMode ? \"canvas-mode\" : \"\"\n    }`;\n\n  editorBeforeChange = (editor, data, val) => this.props.setCode(val);\n  editorOnChange = (editor, data, val) => this.updateCode(val);\n\n  render() {\n    const { isCanvasMode, code, error, isLightMode } = this.props;\n    return (\n      <div\n        className={`studio ${this.getClassNames(isLightMode, isCanvasMode)}`}\n      >\n        {/* <!-- editor line number, error markers --> */}\n        <div className={`line-numbers ${error.hasError ? \"error\" : \"\"}`}></div>\n        <div className=\"line-marker\" style={{ top: error.lineMarkerTop }}></div>\n        {/* <!-- code mirror editor --> */}\n        <CodeMirror\n          ref={this.editorRef}\n          className=\"code-mirror-editor\"\n          value={code}\n          onBeforeChange={this.editorBeforeChange}\n          onChange={this.editorOnChange}\n          options={{\n            ...this.cmOptions,\n            theme: `solarized ${isLightMode ? \"light\" : \"dark\"}`,\n          }}\n        />\n        {/* <!-- canvas holding the UML diagram --> */}\n        <canvas id=\"canvas\" ref={this.canvasRef}></canvas>\n        {/* <!-- shows a tooltip on error --> */}\n        <span className=\"error-tooltip\">{error.errorTooltip}</span>\n        {/* <!-- canvas tools and pan/zoom handler --> */}\n        <CanvasTools panner={this.panner} classToggler={this.classToggler} />\n        <div\n          className=\"canvas-panner\"\n          ref={this.canvasPannerRef}\n          onMouseEnter={this.classToggler(true)}\n          onMouseLeave={this.classToggler(false)}\n        ></div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ studio }: IRootState) => ({\n  code: studio.code,\n  error: studio.error,\n  isCanvasMode: studio.isCanvasMode,\n  isLightMode: studio.isLightMode,\n  ranker: studio.ranker,\n  direction: studio.direction,\n});\n\nconst mapDispatchToProps = {\n  setCode,\n  setError,\n  setDefaultError,\n  reloadStorage,\n  setCanvasMode,\n};\n\ntype StateProps = ReturnType<typeof mapStateToProps>;\ntype DispatchProps = typeof mapDispatchToProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Studio);\n","import React from \"react\";\n\nimport Sidebar from \"./components/sidebar/Sidebar\";\nimport Header from \"./components/Header\";\nimport Studio from \"./components/studio/Studio\";\nimport \"./App.scss\";\n\nfunction App() {\n  return (\n    <div className=\"wrap app\">\n      <Header />\n      {/* <!-- Code and image --> */}\n      <Studio />\n      {/* <!-- sidebar --> */}\n      <Sidebar />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport { store } from \"./Store\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./index.scss\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}